<!--
 * @Author: é»„ç¿æ°‘
 * @Date: 2021-01-07 23:43:56
 * @LastEditTime: 2021-01-10 15:22:53
 * @LastEditors: é»„ç¿æ°‘
 * @Description: è¿™æ˜¯vue3çš„ç»ƒä¹ ä»£ç 
 * @FilePath: \vue3-todolist\src\components\test\Test.vue
-->
<template>
  <div>
    <!-- <p>ç®€å•å˜é‡ä½¿ç”¨ref</p>
    <p>{{ count }}</p>
    <button @click="increase">{{ count }}</button>

    <p>å¯¹è±¡ä½¿ç”¨reactive</p>
    <p>{{ obj.data }}</p>
    <button @click="minus">{{ obj.data }}</button> -->

    <p>å…ƒç´ ref</p>
    <p ref="des">è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰refå±æ€§çš„å…ƒç´ </p>

    <!-- <p>watchEffectTest</p>
    <input type="text" v-model="name" />
    <button @click="adds">ä»·æ ¼{{ valueRef }}</button>

    <p>{{ name }}-{{ valueRef }}</p> -->
  </div>
</template>

<script>
import { reactive, ref, watchEffect } from "vue";
function increaseFun() {
  let count = ref(0);
  // console.log(count);
  const increase = () => {
    count.value++;
  };
  return {
    count,
    increase,
  };
}
function minusFun() {
  const obj = reactive({
    data: 100,
  });
  // console.log("ğŸš€ ~ file: Test.vue ~ line 27 ~ setup ~ obj", obj);
  const minus = () => {
    obj.data--;
  };
  return {
    obj,
    minus,
  };
}
function watchEffectTest() {
  let name = ref("df");
  let valueRef = ref(0);
  watchEffect(() => {
    console.log("è§¦å‘watchEffect");
    console.log("ğŸš€ ~ file: Test.vue ~ line 55 ~ watchEffectTest ~ name", name.value);
    console.log(valueRef.value)
  });
  const adds = () => {
    valueRef.value++;
  };
  return {
    name,
    adds,
    valueRef,
  };
}
export default {
  name: "Test",
  setup() {
    //   returnä¸­çš„æ•°ç»„ä¼šè¢«è¿”å›åˆ°ç»„ä»¶å®ä¾‹ä¸­
    const des = ref(null);
    console.log("ğŸš€ ~ file: Test.vue ~ line 55 ~ setup ~ des", des)

    return {
      // ...increaseFun(),
      // ...minusFun(),
      des,
      ...watchEffectTest(),
    };
  },
};
</script>

<style>
</style>